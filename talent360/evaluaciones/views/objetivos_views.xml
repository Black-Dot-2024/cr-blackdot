<?xml version="1.0"?>
<odoo>
  <!--OBJETIVOS-->
  <record id="objetivo_action" model="ir.actions.act_window">
    <field name="name">Objetivos</field>
    <field name="res_model">objetivo</field>
    <field name="view_mode">tree,form</field>
  </record>

  <record id="mis_objetivo_action" model="ir.actions.act_window">
    <field name="name">Mis Objetivos</field>
    <field name="res_model">objetivo</field>
    <field name="view_mode">tree,form</field>
    <field name="domain">[('usuario_ids', 'in', [uid])]</field>
    <field name="context">{'form_view_ref': 'module_name.objetivo_form_mis_objetivos', 'create': False, 'edit': False, 'delete': False, 'duplicate': False}</field>
  </record>


  <record id="objetivo_tree" model="ir.ui.view">
    <field name="name">objetivo.tree</field>
    <field name="model">objetivo</field>
    <field name="arch" type="xml">
      <tree string="Objetivos" create="true" delete="true" duplicate="true">
        <field name="titulo" string="Nombre"/>
        <field name="fecha_fin" />
        <field name="tipo" />
        <field name="estado" />
        <field name="peso" />
        <field name="piso_minimo" />
        <field name="piso_maximo" />
      </tree>
    </field>
  </record>


  <record id="objetivo_form" model="ir.ui.view">
    <field name="name">objetivo.form</field>
    <field name="model">objetivo</field>

    <field name="arch" type="xml">
      <form string="Objetivo">
        <header>
          <field name="estado" widget="statusbar" statusbar_visible="rojo, amarillo, verde, azul" />
        </header>
        <sheet>
          <div style="width: 100%;">
            <h1>
              <field name="titulo" placeholder="Nombre del objetivo" style="width: 100%;" />
            </h1>

            <br />
            <label for="descripcion" string="Descripción" />
            <field placeholder="¿Qué es lo que se espera lograr con este objetivo?" name="descripcion" />
          </div>
          <notebook>
            <page string="Detalles">
              <div style="display: flex; flex-direction: column;">
                <div class="row">
                    <div class="col-md-6">
                        <label for="metrica" string="Métrica" />
                        <field name="metrica" />
                        <br />
                        <label for="orden" string="Orden" />
                        <field name="orden" />
                        <br />
                        <label for="peso" string="Peso" />
                        <field name="peso" />
                    </div>
                    <div class="col-md-6">
                        <label for="fecha_fin" string="Fecha final" />
                        <field name="fecha_fin" />
                        <br />
                        <label for="tipo" string="Tipo" />
                        <field name="tipo" />
                    </div>
                </div>
                <group col="2" style="margin-top: 20px;">
                  <group>
                    <field name="piso_minimo" string="Valor inicial"/>
                  </group>
                  <group>
                    <field name="piso_maximo" string="Valor deseado"/>
                  </group>
                </group>
              </div>
            </page>
            <page string="Asignados">
              <group>
                <field name="usuario_ids" />
              </group>
            </page>
          </notebook>
        </sheet>
      </form>
    </field>
  </record>

  <record id="objetivo_form_mis_objetivos" model="ir.ui.view">
    <field name="name">objetivo.form.mis_objetivos</field>
    <field name="model">objetivo</field>
    <field name="arch" type="xml">
        <form string="Objetivo">
            <header>
                <button name="toggle_edit" type="object" string="Editar" class="oe_highlight" groups="evaluaciones.evaluaciones_colaborador_cr_group_user"/>
                <field name="estado" widget="statusbar" statusbar_visible="rojo, amarillo, verde, azul"/>
            </header>
            <sheet>
                <group>
                    <field name="titulo" readonly="1"/>
                    <field name="descripcion" readonly="1"/>
                    <field name="metrica" readonly="1"/>
                    <field name="orden" readonly="1"/>
                    <field name="peso" readonly="1"/>
                    <field name="fecha_fin" readonly="1"/>
                    <field name="tipo" readonly="1"/>
                    <field name="piso_minimo" readonly="1"/>
                    <field name="piso_maximo" readonly="1"/>
                    <field name="usuario_ids" readonly="1" groups="evaluaciones.evaluaciones_cliente_cr_group_user"/>
                </group>
            </sheet>
        </form>
    </field>
  </record>

</odoo>